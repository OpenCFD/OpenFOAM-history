.TH STATE 1 "July, 2007" "LAM 7.1.4" "LAM COMMANDS"
.SH NAME
state \- Report status of LAM processes.
.SH SYNOPSIS
state [-ghklt] nodes [processes]
.SH OPTIONS
.TP 8
.B -g
Print information on system and application processes.
.TP
.B -h
Print the command help menu.
.TP
.B -k
Only obtain kernel information on local kernel processes.
.TP
.B -l
Print supplementary information.
.TP
.B -t
Print information on system processes only.
.SH DESCRIPTION
Most MPI users will probably not need to use the
.I state
command; see mpimsg(1) and mpitask(1).  This command is only installed
if LAM/MPI was configured with the
.I --with-trillium
switch.
.PP
If no process selection is given on the command line, one line
of status will be printed for every process on each specified node.
.PP
In default mode, information is organized under the following headings:
.TP 10
NODE
the nodeid on which the process is running
.TP
INDEX
the LAM process index
.TP
PID
the process identifier from the underlying operating system
.TP
KPRI
the LAM kernel priority
.TP
KSTATE
the LAM kernel execution status:
.RS
.TP 10
R
running - unencumbered by LAM
.TP
BR
blocked receiving - The blocked message event and type are also
displayed.
.TP
BS
blocked sending - The blocked message event and type are also
displayed.
.TP
F
no longer a LAM process
.RE
.TP
PROGRAM
the program filename
.PP
With the
.I \-l
option,
.I state
prints signal information instead of execution status.
.TP 10
SIGS
all pending but undelivered LAM signals
.PP
Some event/type combinations are used by the system to implement
client/server requests or to implement other message passing libraries.
Where possible,
.I state
replaces these numbers with the name of the function that caused
the current execution state.
In general, the information provided by
.I state
is low\-level and geared toward LAM system programmers.
MPI programmers are expected to use mpitask(1) to
monitor the state of MPI processes.
.SS Kernel Processes
A process must call kenter(2) or be created by loadgo(1)
in order to be directly visible to
.IR state .
In other cases, limited monitoring is possible in one of two ways.
If a process identifier is given, the kernel
on each specified node will be consulted for kernel information (kstate(2)).
On the local node (use node specifier \fIh\fR) a process can
be watched without the assistance of the process management daemon
by giving the process identifier and the \fI-k\fR option.
.SH EXAMPLES
.TP 4
state n0-7
Display the status of all application processes on nodes 0 through 7.
.TP
state n7 i4
Display the status of LAM process index 4 on node 7.
.SH DIAGNOSTICS
If no processes are found, only the title line is displayed.
.SH SEE ALSO
loadgo(1), mpimsg(1), mpitask(1), doom(1), bfstate(1)
