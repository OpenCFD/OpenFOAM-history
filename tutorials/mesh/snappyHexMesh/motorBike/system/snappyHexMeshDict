/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  1.5                                   |
|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "system";
    object      snappyHexMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

castellatedMesh true;

snap            true;

addLayers       true;

geometry
{
    motorBike.stl
    {
        type            triSurfaceMesh;
        name            motorBike;
    }

    refinementBox
    {
        type            searchableBox;
        min             ( -0.3 -0.4 -0.1 );
        max             ( 3 0.4 1.4 );
    }
}

castellatedMeshControls
{
    maxLocalCells   1000000;
    maxGlobalCells  2000000;
    minRefinementCells 10;
    nCellsBetweenLevels 2;
    features        ( );
    refinementSurfaces
    {
        motorBike
        {
            level           ( 5 6 );
        }
    }

    resolveFeatureAngle 30;
    refinementRegions
    {
        refinementBox
        {
            mode            inside;
            levels          ( ( 1e+15 4 ) );
        }
    }

    locationInMesh  ( 3 3 0.43 );
}

snapControls
{
    nSmoothPatch    3;
    tolerance       4;
    nSolveIter      30;
    nRelaxIter      5;
}

addLayersControls
{
    layers
    {
        minZ
        {
            nSurfaceLayers  1;
        }

        motorBike_frt-fairing:001%1
        {
            nSurfaceLayers  1;
        }

        motorBike_windshield:002%2
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-rim:005%5
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-rim:010%10
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-rim:011%11
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-brake-disk:012%12
        {
            nSurfaceLayers  1;
        }

        motorBike_frame:016-shadow%13
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-susp:014%14
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-susp:014-shadow%15
        {
            nSurfaceLayers  1;
        }

        motorBike_frame:016%16
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-rim:005-shadow%17
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-chain-hub:022%22
        {
            nSurfaceLayers  1;
        }

        motorBike_rearseat%24
        {
            nSurfaceLayers  1;
        }

        motorBike_frt-fairing%25
        {
            nSurfaceLayers  1;
        }

        motorBike_windshield%26
        {
            nSurfaceLayers  1;
        }

        motorBike_headlights%27
        {
            nSurfaceLayers  1;
        }

        motorBike_driversseat%28
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-body%29
        {
            nSurfaceLayers  1;
        }

        motorBike_fuel-tank%30
        {
            nSurfaceLayers  1;
        }

        motorBike_exhaust%31
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-rim%32
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-mud-guard%33
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-rim%34
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-brake-disk%35
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-brake-caliper%36
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-tyre%37
        {
            nSurfaceLayers  1;
        }

        motorBike_hbars%38
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-forks%39
        {
            nSurfaceLayers  1;
        }

        motorBike_chain%40
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-tyre%41
        {
            nSurfaceLayers  1;
        }

        motorBike_square-dial%42
        {
            nSurfaceLayers  1;
        }

        motorBike_round-dial%43
        {
            nSurfaceLayers  1;
        }

        motorBike_dial-holder%44
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-susp%45
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-brake-lights%46
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-light-bracket%47
        {
            nSurfaceLayers  1;
        }

        motorBike_frame%48
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-mud-guard%49
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-susp-spring-damp%50
        {
            nSurfaceLayers  1;
        }

        motorBike_fairing-inner-plate%51
        {
            nSurfaceLayers  1;
        }

        motorBike_clutch-housing%52
        {
            nSurfaceLayers  1;
        }

        motorBike_radiator%53
        {
            nSurfaceLayers  1;
        }

        motorBike_water-pipe%54
        {
            nSurfaceLayers  1;
        }

        motorBike_water-pump%55
        {
            nSurfaceLayers  1;
        }

        motorBike_engine%56
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-shock-link%57
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-brake-fluid-pot-bracket%58
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-brake-fluid-pot%59
        {
            nSurfaceLayers  1;
        }

        motorBike_footpeg%60
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-chain-hub%61
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-brake-caliper%62
        {
            nSurfaceLayers  1;
        }

        motorBike_rider-helmet%65
        {
            nSurfaceLayers  1;
        }

        motorBike_rider-visor%66
        {
            nSurfaceLayers  1;
        }

        motorBike_rider-boots%67
        {
            nSurfaceLayers  1;
        }

        motorBike_rider-gloves%68
        {
            nSurfaceLayers  1;
        }

        motorBike_rider-body%69
        {
            nSurfaceLayers  1;
        }

        motorBike_frame:0%70
        {
            nSurfaceLayers  1;
        }

        motorBike_frt-fairing:001-shadow%74
        {
            nSurfaceLayers  1;
        }

        motorBike_windshield-shadow%75
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-mud-guard-shadow%81
        {
            nSurfaceLayers  1;
        }

        motorBike_fr-wh-brake-disk-shadow%83
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-mud-guard-shadow%84
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-susp-spring-damp-shadow%85
        {
            nSurfaceLayers  1;
        }

        motorBike_radiator-shadow%86
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-shock-link-shadow%87
        {
            nSurfaceLayers  1;
        }

        motorBike_rear-brake-fluid-pot-bracket-shadow%88
        {
            nSurfaceLayers  1;
        }

        motorBike_rr-wh-chain-hub-shadow%89
        {
            nSurfaceLayers  1;
        }
    }

    expansionRatio  1;
    finalLayerRatio 0.3;
    minThickness    0.1;
    nGrow           1;
    featureAngle    30;
    nRelaxIter      3;
    nSmoothSurfaceNormals 1;
    nSmoothNormals  3;
    nSmoothThickness 10;
    maxFaceThicknessRatio 0.5;
    maxThicknessToMedialRatio 0.3;
    minMedianAxisAngle 130;
    nBufferCellsNoExtrude 0;
}

meshQualityControls
{
    maxNonOrtho     65;
    maxBoundarySkewness 20;
    maxInternalSkewness 4;
    maxConcave      80;
    minFlatness     0.5;
    minVol          1e-13;
    minArea         -1;
    minTwist        0.02;
    minDeterminant  0.001;
    minFaceWeight   0.02;
    minVolRatio     0.01;
    minTriangleTwist -1;
    nSmoothScale    4;
    errorReduction  0.75;
}

debug           0;

mergeTolerance  1e-06;


// ************************************************************************* //
